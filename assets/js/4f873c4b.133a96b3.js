"use strict";(self.webpackChunkxcpdoc=self.webpackChunkxcpdoc||[]).push([[629],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return p}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(n),p=o,m=u["".concat(l,".").concat(p)]||u[p]||h[p]||r;return n?a.createElement(m,i(i({ref:t},d),{},{components:n})):a.createElement(m,i({ref:t},d))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5524:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return u}});var a=n(3117),o=n(102),r=(n(7294),n(3905)),i=["components"],s={title:"Enhanced Asset Info"},l=void 0,c={unversionedId:"basics/assets/enhanced-asset",id:"basics/assets/enhanced-asset",title:"Enhanced Asset Info",description:"When initially setting or changing your asset's (token's) description, you can enable enhanced functionality (such as an token image and a longer description) by providing a URL to a specially formatted .json file (e.g. http://www.mydomain.com/foo.json) as the description. This allows the token owner to provide enhanced information to the token's holders, and enhances the user experience for these holders for wallet implementations that support this spec.",source:"@site/docs/basics/assets/enhanced-asset.md",sourceDirName:"basics/assets",slug:"/basics/assets/enhanced-asset",permalink:"/docs/basics/assets/enhanced-asset",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/basics/assets/enhanced-asset.md",tags:[],version:"current",frontMatter:{title:"Enhanced Asset Info"},sidebar:"basics",previous:{title:"Understanding assets on Counterparty",permalink:"/docs/basics/assets/counterparty-assets"},next:{title:"Enhanced Feed Info",permalink:"/docs/basics/assets/enhanced-feed"}},d=[{value:"Token Info URL format",id:"token-info-url-format",children:[],level:2},{value:"Token Info JSON format",id:"token-info-json-format",children:[],level:2},{value:"Examples",id:"examples",children:[],level:2},{value:"Other Topics",id:"other-topics",children:[{value:"Validity and refreshing",id:"validity-and-refreshing",children:[],level:3},{value:"Validating your JSON data",id:"validating-your-json-data",children:[],level:3}],level:2}],h={toc:d};function u(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When initially setting or changing your asset's (token's) description, you can enable enhanced functionality (such as an token image and a longer description) by providing a URL to a specially formatted .json file (e.g. ",(0,r.kt)("a",{parentName:"p",href:"http://www.mydomain.com/foo.json"},"http://www.mydomain.com/foo.json"),") as the description. This allows the token owner to provide enhanced information to the token's holders, and enhances the user experience for these holders for wallet implementations that support this spec."),(0,r.kt)("h2",{id:"token-info-url-format"},"Token Info URL format"),(0,r.kt)("p",null,"The URL itself in the broadcast text field must conform to the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Must fully fit within the text field space allowed"),(0,r.kt)("li",{parentName:"ul"},'May or may not start with "http://" or "https://". If the URL does not start with either, "http://" is assumed'),(0,r.kt)("li",{parentName:"ul"},'Must end with ".json"'),(0,r.kt)("li",{parentName:"ul"},'It is recommended that the server return the JSON data with the correct MIME type set (e.g. "application/json")'),(0,r.kt)("li",{parentName:"ul"},"A HTTP 200 response code must be returned (redirects, e.g. 301, 302, etc. are not allowed)")),(0,r.kt)("h2",{id:"token-info-json-format"},"Token Info JSON format"),(0,r.kt)("p",null,"The JSON object/mapping the URL points to must contain the following data:"),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"asset")),(0,r.kt)("td",null,"Required"),(0,r.kt)("td",null,"The name of the token. Must match your token's name exactly. 24 characters max.")),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"description")),(0,r.kt)("td",null,"Optional"),(0,r.kt)("td",null,"A longish description about this token. 2048 characters max.")),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"image")),(0,r.kt)("td",null,"Optional"),(0,r.kt)("td",null,'A link a 48x48 PNG image to represent the token on the leaderboard and portfolio views. The text itself must be a valid URL that starts with "http://" or "https://" (100 characters max). The image the URL references must be in PNG format (the URL must end in .png). It must be 48x48, and it must use the RGB or RGBA color palette. If any of these are not correct, the system will reject it.')),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"website")),(0,r.kt)("td",null,"Optional"),(0,r.kt)("td",null,'A link to the website for the token. 100 characters max. Must be a valid URL that starts with "http://" or "https://"')),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"pgpsig")),(0,r.kt)("td",null,"Optional"),(0,r.kt)("td",null,'A link to a pgp signature text/file that will or can be used to sign messages by the issuer of this token. 100 characters max. Must be a valid URL that starts with "http://" or "https://"'))),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,"Here's an example for a token called ",(0,r.kt)("b",null,"MYTOKEN"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'    { \n        "asset": "MYTOKEN",\n        "description": "This is a description of MYTOKEN",\n        "image": "http://www.mysite.com/mytoken.png", \n        "website": "http://www.mysite.com",\n        "pgpsig": "http://www.mysite.com/MYTOKEN.pgp"\n    }\n')),(0,r.kt)("h2",{id:"other-topics"},"Other Topics"),(0,r.kt)("h3",{id:"validity-and-refreshing"},"Validity and refreshing"),(0,r.kt)("p",null,"Every 30-60 minutes, the Counterwallet system will query this URL provided to validate and fetch the necessary information. If the information you provided is reachable and valid (within a 1 second response time), your token's information will be enhanced based on this data.\nIn order for this data file to be deemed as valid for a specific token/asset, there must have been either an initial issuance, or a description change transaction for that asset, and the text field of that description must have been set to the URL of this JSON file. If the information you provided is reachable and valid (within a 5 second response time), your token's information will be enhanced based on this data. If it is not, counterblockd will retry up to 2 additional times, over the next 30 or so minutes, and then give up until another transaction is made that changes the description field (it may be to the same URL, but another description change transaction is necessary to reinitialize the validity check by counterblockd)."),(0,r.kt)("h3",{id:"validating-your-json-data"},"Validating your JSON data"),(0,r.kt)("p",null,"Your JSON data must respect and validate against ",(0,r.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/CounterpartyXCP/counterblock/master/counterblock/schemas/asset.schema.json"},"this")," JSON schema.\nIf the validation fails on any level, counterblockd will not accept the\ndata."),(0,r.kt)("p",null,"To check your data against this schema, go ",(0,r.kt)("a",{parentName:"p",href:"http://json-schema-validator.herokuapp.com/"},"here"),". Paste the schema\nfrom the link above into the ",(0,r.kt)("strong",{parentName:"p"},"Schema")," field, and place your example\noutput into the ",(0,r.kt)("strong",{parentName:"p"},"Data")," field. Then click the ",(0,r.kt)("strong",{parentName:"p"},"Validate")," button"))}u.isMDXComponent=!0}}]);