<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">On Lighning Network | Counterparty</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://counterpartyxcp.github.io/docs/basics/faq/lightning-network"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="On Lighning Network | Counterparty"><meta data-react-helmet="true" name="description" content="[TOC]"><meta data-react-helmet="true" property="og:description" content="[TOC]"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://counterpartyxcp.github.io/docs/basics/faq/lightning-network"><link data-react-helmet="true" rel="alternate" href="https://counterpartyxcp.github.io/docs/basics/faq/lightning-network" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://counterpartyxcp.github.io/docs/basics/faq/lightning-network" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2814d311.css">
<link rel="preload" href="/assets/js/runtime~main.a8defe73.js" as="script">
<link rel="preload" href="/assets/js/main.e2224990.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/xcp.png" alt="Counterparty" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Counterparty</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Basics</a><a class="navbar__item navbar__link" href="/docs/wallets/counterwallet">Wallets</a><a class="navbar__item navbar__link" href="/docs/advanced/architecture">Advanced</a><a class="navbar__item navbar__link" href="/docs/develop/api/overview">Develop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">üåú</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">üåû</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">What is Counterparty?</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/basics/assets/counterparty-assets">Assets (tokens/NFTs)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/basics/faq/general">FAQs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/faq/general">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/faq/smart-contracts">On Smart contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/basics/faq/lightning-network">On Lighning Network</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/basics/support">Getting Support on the Forums</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>On Lighning Network</h1></header><p>[TOC]</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-are-payment-channels">What are Payment channels?<a class="hash-link" href="#what-are-payment-channels" title="Direct link to heading">‚Äã</a></h3><p><strong>Payment channels</strong> allow two users of Bitcoin to transact commitments to pay back and forth between each other much faster and more fluidly than Bitcoin‚Äôs 10 minute block times would normally allow. These commitments are exchanged between the users outside of the Bitcoin blockchain. Once the users are done, they can close the payment channel by publishing the last commitment(s) to the blockchain, which will finalize the amount actually transacted.</p><p>An ideal use case for the technology is <strong>micropayments</strong>: Imagine a user making numerous very small payments (e.g. .0001 BTC) to Big Music Company as she listens to songs over a certain period. Without payment channels, the Bitcoin transaction fees from these small payments would be as much or more than the payments themselves, and each payment would take on average 10 minutes to clear.</p><p>Shawn Wilkinson of <a href="https://storj.io/" target="_blank" rel="noopener noreferrer">Storj</a> (a Counterparty project) provides a <a href="http://super3.org/introduction-to-micropayment-channels/" target="_blank" rel="noopener noreferrer">good overview</a> of payment channels (which goes into detail on both unidirectional and bidirectional channels.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-is-the-lightning-network">What is the Lightning Network?<a class="hash-link" href="#what-is-the-lightning-network" title="Direct link to heading">‚Äã</a></h3><p>The <strong>Lightning Network</strong>, which is still under development, will allow for secure, instant off-chain payments between two arbitrary participants. The Lightning Network is one of the primary methods of scaling Bitcoin to have credit card network-like transaction throughput, while preserving its decentralized qualities.</p><p>Lightning Network technology uses bidirectional payment channels as its central component. Much like the internet routes data packets from one network point to another network point, the Lightning Network routes payments across multiple interconnected payment channels. This eliminates the need to construct a new payment channel for every party that you want to transact with. Instead, you may have a channel set up with a party you have an established relationship with, such as a payment provider like Coinbase, who (possibly through multiple degrees of separation) has a payment channel connection to the final end party.</p><p>Because the individual participants‚Äô transactions utilize Bitcoin cryptography and are eventually committed back to the Bitcoin blockchain, transactions on the Lightning Network are essentially as secure as if they were transacted directly on Bitcoin, but without the same cost, speed and scalability limitations.</p><p>The <a href="https://lightning.network/" target="_blank" rel="noopener noreferrer">Lightning Network site</a> includes more information.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-do-payment-channels-help-counterparty-users">How do payment channels help Counterparty users?<a class="hash-link" href="#how-do-payment-channels-help-counterparty-users" title="Direct link to heading">‚Äã</a></h3><p>Previously, individual Counterparty transactions were committed directly to the Bitcoin blockchain. This is very secure, but is impacted by Bitcoin‚Äôs 10 minute block times and per-transaction fees. With payment channels, Counterparty users gain the ability perform certain actions very rapidly and cheaply, such as incrementally swapping XCP for BTC or paying TOKENABC for increased use of a service. The benefits of this are especially apparent when the amounts transacted are small, and/or performed frequently or on an on-going basis.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-are-some-potential-uses-for-payment-channelsmicropayments">What are some potential uses for payment channels/micropayments?<a class="hash-link" href="#what-are-some-potential-uses-for-payment-channelsmicropayments" title="Direct link to heading">‚Äã</a></h3><ul><li>Rewarding users for specific actions they take, such as contributing content to a blog, or writing a review</li><li>Incrementally purchasing a service offering, such as paying for additional storage use with <a href="https://storj.io/" target="_blank" rel="noopener noreferrer">Storj</a></li><li>Buying in-game items with Counterparty-based games such as <a href="http://spellsofgenesis.com/" target="_blank" rel="noopener noreferrer">Spells of Genesis</a> or <a href="https://itunes.apple.com/gb/app/sarutobi/id932194840?mt=8" target="_blank" rel="noopener noreferrer">SaruTobi</a></li><li>Payments for other digital/virtual goods, such as a ‚Äúcontributor‚Äù badge on a forum</li><li>Referral network payments</li><li>Small/regular donations to charities, projects or individuals (such as musicians and writers of very neat open source software (<em>hint, hint!</em>))</li><li>Enabling rental of Counterparty asset names</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="could-payment-channels-be-useful-for-any-kind-of-transaction">Could payment channels be useful for any kind of transaction?<a class="hash-link" href="#could-payment-channels-be-useful-for-any-kind-of-transaction" title="Direct link to heading">‚Äã</a></h3><p>Theoretically, any Counterparty transaction could be sent in a payment channel. However, the technology is by far most appropriate for send transactions, where one would transfer a Counterparty asset much like one would transfer Bitcoin.</p><p>Payment channels don‚Äôt remove the need for on-chain transactions (and indeed, each payment channel is started from and ends with an on-chain transaction). Instead, they enable certain use-cases such as rapid incremental payments, and microtransactions.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-is-p2sh">What is P2SH?<a class="hash-link" href="#what-is-p2sh" title="Direct link to heading">‚Äã</a></h3><p>Most commonly in Bitcoin, transactions are made to a specific user‚Äôs public key hash (colloquially known as a Bitcoin address), and are spendable by that user‚Äôs corresponding private key.</p><p>With <strong>‚ÄúPay-to-script-hash‚Äù (P2SH)</strong>, transactions are sent to the hash of a ‚Äúredeem script‚Äù, which is a special <a href="https://en.bitcoin.it/wiki/Script" target="_blank" rel="noopener noreferrer">Bitcoin script</a> (e.g. a Bitcoin smart contract) that can be written to do a variety of things. To ‚Äúexecute‚Äù the script and operate on some or all of the sent funds, another party will broadcast an additional transaction that provides the original script content, along with any required signatures. </p><p>The P2SH support implemented in Counterparty makes payment channels possible, as payment channels (and Lightning Network, for that matter) require the use of these redeem scripts to work. P2SH is also commonly used for multisignature transactions since the signing process is generally more compact and streamlined than the earlier method (‚Äúbare multisig‚Äù).</p><p>You can tell if a Bitcoin address is for a P2SH destination because it will start with ‚Äò3‚Äô on Bitcoin mainnet. Given this, you may notice that many exchanges, for instance, utilize these ‚Äò3‚Äô addresses for deposits. The redeem script in use with that is most definitely a multisig script of some kind, allowing secure, multi-party handling of deposited funds by the exchange.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-are-atomic-swaps-and-otc-markets">What are atomic swaps and OTC markets?<a class="hash-link" href="#what-are-atomic-swaps-and-otc-markets" title="Direct link to heading">‚Äã</a></h3><p>P2SH support, the same technology implemented in Counterparty that makes payment channels possible, also makes on-chain ‚Äúatomic swaps‚Äù possible.</p><p>With an <strong>atomic swap</strong>, two parties perform a special process of exchanging information that completes by the parties broadcasting several transactions that they both have signed. These transactions end up exchanging (i.e. ‚Äúswapping‚Äù) some quantity of one asset from one party in exchange for another. This is done in a way where one party can‚Äôt cheat the other.</p><p>The use of atomic swaps can be useful to enable the use of things like <strong>over the counter (OTC) markets</strong> and <strong>dark pools</strong>. With either structure, a third party (often known as a bookrunner) would maintain a list of bids and offers between buyers and sellers of one asset for another, such as XCP and BTC. That list may be publically published, or not. Interested parties would contact the bookrunner and place buy and sell offers. The bookrunner would match buyers to sellers, who would then perform the trade themselves utilizing an atomic swap. Using this model, risk is greatly minimized, as the bookrunner does not have to hold any assets (and thus cannot run away with them).</p><p>The concept of an OTC market may sound antiquated but in reality they are a major boon to markets, especially for large holders who can then enter or exit a market or accumulate an asset without much price ‚Äúslippage‚Äù, as would oftentimes occur on an exchange. In mainstream finance, OTC markets comprise over 40% of stock trading, as well as the vast majority of bond and derivative trading (<a href="https://en.wikipedia.org/wiki/Over-the-counter_(finance)" target="_blank" rel="noopener noreferrer">source 1</a>, <a href="https://en.wikipedia.org/wiki/Derivatives_market" target="_blank" rel="noopener noreferrer">source 2</a>).</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-do-i-start-using-all-of-this-technology-with-counterparty">How do I start using all of this technology with Counterparty?<a class="hash-link" href="#how-do-i-start-using-all-of-this-technology-with-counterparty" title="Direct link to heading">‚Äã</a></h3><p>This technology is all in various stages of development, with some of it being complete (P2SH, for instance) and some in very early states on Counterparty (such as bidirectional payment channels and Lightning Network support).</p><p>We will be publishing guides for users and developers as the respective technology becomes available and matures. Until that point, feel free to check out <a href="https://github.com/CounterpartyXCP/counterparty-lib/tree/develop" target="_blank" rel="noopener noreferrer">the newest source code</a> and ask questions on #dev on <a href="http://slack.counterparty.io/" target="_blank" rel="noopener noreferrer">our official Slack chat</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/basics/faq/lightning-network.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/basics/faq/smart-contracts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">On Smart contracts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/basics/support"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting Support on the Forums</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-payment-channels" class="table-of-contents__link toc-highlight">What are Payment channels?</a></li><li><a href="#what-is-the-lightning-network" class="table-of-contents__link toc-highlight">What is the Lightning Network?</a></li><li><a href="#how-do-payment-channels-help-counterparty-users" class="table-of-contents__link toc-highlight">How do payment channels help Counterparty users?</a></li><li><a href="#what-are-some-potential-uses-for-payment-channelsmicropayments" class="table-of-contents__link toc-highlight">What are some potential uses for payment channels/micropayments?</a></li><li><a href="#could-payment-channels-be-useful-for-any-kind-of-transaction" class="table-of-contents__link toc-highlight">Could payment channels be useful for any kind of transaction?</a></li><li><a href="#what-is-p2sh" class="table-of-contents__link toc-highlight">What is P2SH?</a></li><li><a href="#what-are-atomic-swaps-and-otc-markets" class="table-of-contents__link toc-highlight">What are atomic swaps and OTC markets?</a></li><li><a href="#how-do-i-start-using-all-of-this-technology-with-counterparty" class="table-of-contents__link toc-highlight">How do I start using all of this technology with Counterparty?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/basics/what-is-counterparty/a-bitcoin-protocol">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/wsjKtPGrMF" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://counterpartytalk.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.reddit.com/r/counterparty_xcp/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/Counterparty_XCP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/CounterpartyXCP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CounterpartyXCP/Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/basics/faq/docs/foundation-bylaws/bylaws">Bylaws</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">CC ¬© 2014 - 2022 Counterparty, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a8defe73.js"></script>
<script src="/assets/js/main.e2224990.js"></script>
</body>
</html>